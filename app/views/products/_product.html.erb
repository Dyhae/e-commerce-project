<div class="column">
  <div class="card width_height_card card_box_shadow">
    <div class="card-content">
      <p class="title">
        <%= link_to product.category.name, category_path(product.category) %>
      </p>
      <% if product.images.present? %>
        <div class="card-image size">
          <figure class="image is-4by3">
            <% product.images.each do |image| %>
              <%= image_tag image%>
            <% end %>
          </figure>
        </div>
      <%else %>
        <div class="card-image size">
          <figure class="image is-4by3">
            <%= image_tag 'vector-automovil-automotriz_20448-127.jpg' %>
          </figure>
        </div>
      <% end %>
      <% if show_link %>
        <%= link_to product_path(product),class:"button is-primary button-radius" do%>
          <div class="is-size-5">
            Model: <%= product.model %>
          </div>
        <% end%>
      <% else %>
        <div class="is-size-5">
          Model:<%= product.model %>
        </div>
      <% end %>

      <%if show_page %>
        <div class="card-content">
          <div >
            <p>Color: <%= product.color %></p>
          </div>
          <div >
            <p>Transmission: <%= product.transmission %></p>
          </div>
          <%if product.car_option.present?%>
            <div>
              <p>Car option: <%= product.car_option %></p>
            </div>
          <% end %>
          <div >
              <p>Car_ description: <%= product.car_description %></p>
          </div>
        </div>
      <% end %>
    </div>
    <footer class="card-footer  ">
      <%if product.state.name == "On Sale"%>
        <p class="card-footer-item has-background-danger is-size-6">
          On sale: <%= product.sale_percentage %>
        </p>
      <%elsif product.state.name == "recently updated"%>
        <p class="card-footer-item has-background-warning is-size-6">
          Recently Updated
        </p>
      <% end %>
      <p class="card-footer-item is-size-6">
        Price: <%= product.price %>
      </p>
    </footer>
    <div class="navbar-end">
      <div class="navbar-item">
        <div class="buttons">
          <% if @cart.include?(product) %>
            <%if category_page %>
              <label for="quantity">Quantity (between 1 and 5):</label>
              <input class="margin_right" type="number" id="quantity" name="quantity" min="1" max="5">
              <%= button_to remove_from_cart_url(product),method: :delete, class: "button is-danger"  do%>
                <p>Remove</p>
              <% end  %>
            <% else %>
              <p>The product is included</p>
            <% end %>
          <% else %>
            <p><%= link_to 'add to cart', add_to_cart_path(product.id), method: :post, class: "button is-primary"  %></p>
          <% end %>
        </div>
      </div>
    </div>

  </div>
</div>